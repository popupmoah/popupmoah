@tailwind base;
@tailwind components;
@tailwind utilities;

/* Quasar와 Tailwind CSS 통합 */
@layer base {
  /* 기본 폰트 및 색상 설정 */
  :root {
    --primary-50: #eff6ff;
    --primary-100: #dbeafe;
    --primary-200: #bfdbfe;
    --primary-300: #93c5fd;
    --primary-400: #60a5fa;
    --primary-500: #3b82f6;
    --primary-600: #2563eb;
    --primary-700: #1d4ed8;
    --primary-800: #1e40af;
    --primary-900: #1e3a8a;

    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --gray-900: #111827;

    --success-50: #f0fdf4;
    --success-500: #22c55e;
    --success-600: #16a34a;

    --warning-50: #fffbeb;
    --warning-500: #f59e0b;
    --warning-600: #d97706;

    --error-50: #fef2f2;
    --error-500: #ef4444;
    --error-600: #dc2626;
  }

  /* 기본 스타일 리셋 */
  * {
    box-sizing: border-box;
  }

  body {
    @apply bg-gray-50 text-gray-900 font-sans antialiased;
    line-height: 1.6;
  }

  /* Quasar 기본 스타일과 Tailwind CSS 호환성 */
  .q-field {
    margin-bottom: 1rem;
  }

  .q-field--outlined .q-field__control {
    @apply border-gray-300 rounded-lg;
  }

  .q-field--outlined.q-field--focused .q-field__control {
    @apply border-primary-500 ring-2 ring-primary-200;
  }

  .q-btn {
    font-weight: 500;
    @apply transition-all duration-200;
  }

  .q-btn--standard {
    @apply shadow-sm hover:shadow-md;
  }

  .q-card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100;
    box-shadow:
      0 1px 3px 0 rgba(0, 0, 0, 0.1),
      0 1px 2px 0 rgba(0, 0, 0, 0.06);
  }

  .q-card--bordered {
    @apply border border-gray-200;
  }

  .q-dialog__inner--minimized > div {
    @apply rounded-xl;
  }

  .q-notification {
    @apply rounded-lg shadow-lg;
  }
}

@layer components {
  /* 버튼 스타일 시스템 */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500 shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply btn bg-white hover:bg-gray-50 text-gray-700 border-gray-300 focus:ring-primary-500 shadow-sm hover:shadow-md;
  }

  .btn-success {
    @apply btn bg-success-500 hover:bg-success-600 text-white focus:ring-success-500 shadow-sm hover:shadow-md;
  }

  .btn-warning {
    @apply btn bg-warning-500 hover:bg-warning-600 text-white focus:ring-warning-500 shadow-sm hover:shadow-md;
  }

  .btn-danger {
    @apply btn bg-error-500 hover:bg-error-600 text-white focus:ring-error-500 shadow-sm hover:shadow-md;
  }

  .btn-ghost {
    @apply btn bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-primary-500;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  /* 카드 스타일 시스템 */
  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 p-6;
  }

  .card-hover {
    @apply card hover:shadow-md hover:border-gray-200 transition-all duration-200;
  }

  .card-interactive {
    @apply card-hover cursor-pointer hover:scale-[1.02] active:scale-[0.98];
  }

  .card-header {
    @apply flex items-center justify-between mb-4 pb-4 border-b border-gray-100;
  }

  .card-title {
    @apply text-xl font-semibold text-gray-900;
  }

  .card-subtitle {
    @apply text-sm text-gray-500 mt-1;
  }

  .card-content {
    @apply space-y-4;
  }

  .card-footer {
    @apply flex items-center justify-between pt-4 border-t border-gray-100;
  }

  /* 입력 필드 스타일 시스템 */
  .input-field {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 placeholder-gray-400;
  }

  .input-field-error {
    @apply input-field border-error-300 focus:ring-error-500 focus:border-error-500;
  }

  .input-field-success {
    @apply input-field border-success-300 focus:ring-success-500 focus:border-success-500;
  }

  .input-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  .input-help {
    @apply text-sm text-gray-500 mt-1;
  }

  .input-error {
    @apply text-sm text-error-600 mt-1;
  }

  /* 레이아웃 시스템 */
  .container-responsive {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .container-fluid {
    @apply w-full px-4 sm:px-6 lg:px-8;
  }

  .grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
  }

  .grid-cards {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  /* 타이포그래피 시스템 */
  .heading-1 {
    @apply text-4xl font-bold text-gray-900;
  }

  .heading-2 {
    @apply text-3xl font-bold text-gray-900;
  }

  .heading-3 {
    @apply text-2xl font-semibold text-gray-900;
  }

  .heading-4 {
    @apply text-xl font-semibold text-gray-900;
  }

  .heading-5 {
    @apply text-lg font-medium text-gray-900;
  }

  .heading-6 {
    @apply text-base font-medium text-gray-900;
  }

  .text-body {
    @apply text-base text-gray-700;
  }

  .text-body-sm {
    @apply text-sm text-gray-600;
  }

  .text-caption {
    @apply text-xs text-gray-500;
  }

  .text-truncate-2 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  .text-truncate-3 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }

  /* 상태 표시 시스템 */
  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .status-active {
    @apply status-badge bg-success-100 text-success-800;
  }

  .status-inactive {
    @apply status-badge bg-gray-100 text-gray-800;
  }

  .status-pending {
    @apply status-badge bg-warning-100 text-warning-800;
  }

  .status-error {
    @apply status-badge bg-error-100 text-error-800;
  }

  /* 로딩 및 오버레이 */
  .loading-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
  }

  .loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600;
  }

  .loading-dots {
    @apply flex space-x-1;
  }

  .loading-dots > div {
    @apply w-2 h-2 bg-primary-600 rounded-full animate-bounce;
  }

  .loading-dots > div:nth-child(2) {
    animation-delay: 0.1s;
  }

  .loading-dots > div:nth-child(3) {
    animation-delay: 0.2s;
  }

  /* 애니메이션 시스템 */
  .fade-enter-active,
  .fade-leave-active {
    @apply transition-opacity duration-300;
  }

  .fade-enter-from,
  .fade-leave-to {
    @apply opacity-0;
  }

  .slide-enter-active,
  .slide-leave-active {
    @apply transition-transform duration-300;
  }

  .slide-enter-from {
    @apply transform translate-x-full;
  }

  .slide-leave-to {
    @apply transform -translate-x-full;
  }

  .scale-enter-active,
  .scale-leave-active {
    @apply transition-transform duration-200;
  }

  .scale-enter-from,
  .scale-leave-to {
    @apply transform scale-95 opacity-0;
  }

  /* 드래그 앤 드롭 스타일 */
  .drag-handle {
    @apply cursor-grab active:cursor-grabbing;
  }

  .drag-over {
    @apply bg-primary-50 border-2 border-dashed border-primary-300;
  }

  .drag-active {
    @apply opacity-50 transform rotate-2;
  }

  /* 트리 구조 스타일 */
  .tree-node {
    @apply relative;
  }

  .tree-node-content {
    @apply flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors duration-200;
  }

  .tree-node-children {
    @apply ml-6 border-l border-gray-200;
  }

  .tree-expand-icon {
    @apply w-4 h-4 text-gray-400 transition-transform duration-200;
  }

  .tree-expand-icon.expanded {
    @apply transform rotate-90;
  }

  /* 페이지네이션 스타일 */
  .pagination {
    @apply flex items-center justify-center space-x-1;
  }

  .pagination-item {
    @apply px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 hover:text-gray-700 transition-colors duration-200;
  }

  .pagination-item.active {
    @apply bg-primary-600 text-white border-primary-600;
  }

  .pagination-item.disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-white hover:text-gray-500;
  }
}

@layer utilities {
  /* 커스텀 유틸리티 클래스 */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }

  /* 그라데이션 유틸리티 */
  .gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-700;
  }

  .gradient-success {
    @apply bg-gradient-to-r from-success-500 to-success-600;
  }

  .gradient-warning {
    @apply bg-gradient-to-r from-warning-500 to-warning-600;
  }

  .gradient-error {
    @apply bg-gradient-to-r from-error-500 to-error-600;
  }

  /* 그림자 유틸리티 */
  .shadow-soft {
    box-shadow:
      0 2px 15px -3px rgba(0, 0, 0, 0.07),
      0 10px 20px -2px rgba(0, 0, 0, 0.04);
  }

  .shadow-medium {
    box-shadow:
      0 4px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .shadow-strong {
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.15),
      0 2px 10px -2px rgba(0, 0, 0, 0.05);
  }

  /* 포커스 유틸리티 */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .focus-ring-error {
    @apply focus:outline-none focus:ring-2 focus:ring-error-500 focus:ring-offset-2;
  }

  /* 반응형 유틸리티 */
  .responsive-text {
    @apply text-sm sm:text-base lg:text-lg;
  }

  .responsive-padding {
    @apply p-4 sm:p-6 lg:p-8;
  }

  .responsive-margin {
    @apply m-4 sm:m-6 lg:m-8;
  }
}

/* 다크 모드 지원 (향후 확장용) */
@media (prefers-color-scheme: dark) {
  /* 다크 모드 스타일은 향후 추가 예정 */
}

/* 고대비 모드 지원 */
@media (prefers-contrast: high) {
  .btn {
    @apply border-2;
  }

  .card {
    @apply border-2 border-gray-300;
  }
}

/* 모션 감소 설정 지원 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
