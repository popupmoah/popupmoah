# PopupMoah - 팝업스토어 플랫폼 PRD

## 개요
PopupMoah는 팝업스토어 정보를 제공하고 커뮤니티 기능을 결합한 종합 플랫폼입니다. 사용자들이 팝업스토어를 검색하고, 리뷰를 작성하며, 커뮤니티에서 소통할 수 있는 서비스입니다.

## 핵심 기능

### 1. 팝업스토어 관리 시스템
- 팝업스토어 등록 및 관리
- 팝업스토어 검색 및 필터링
- 팝업스토어 이미지 관리 (S3 연동)
- 카테고리별 분류 시스템

### 2. 커뮤니티 시스템
- 팝업스토어 리뷰 작성 및 관리
- 댓글 및 답글 시스템
- 사용자 인증 및 권한 관리
- JWT 기반 보안 시스템

### 3. 크롤링 시스템
- 외부 데이터 수집 및 통합
- 팝업스토어 정보 자동 업데이트

### 4. 모니터링 및 운영
- Prometheus 메트릭 수집
- Redis 캐싱 시스템
- 로깅 및 에러 처리

## 기술 아키텍처

### 백엔드 스택
- Spring Boot 3.5.0 (Java 21)
- Spring Security (JWT 인증)
- Spring Data JPA (PostgreSQL)
- Spring WebFlux (비동기 처리)
- Redis (캐싱)
- AWS S3 (파일 저장)
- Prometheus (모니터링)

### 데이터베이스
- PostgreSQL (메인 DB)
- H2 (테스트용)
- Redis (세션/캐시)

### 인프라
- Docker Compose (개발 환경)
- AWS S3 (파일 저장소)
- Jasypt (설정 암호화)

## 개발 로드맵

### Phase 1: 기본 인프라 구축
- 프로젝트 초기 설정
- 데이터베이스 스키마 설계
- 기본 보안 설정
- 모니터링 시스템 구축

### Phase 2: 핵심 도메인 구현
- 팝업스토어 엔티티 및 저장소
- 카테고리 관리 시스템
- S3 파일 업로드 시스템
- 기본 API 엔드포인트

### Phase 3: 커뮤니티 기능
- 사용자 인증 시스템
- 리뷰 및 댓글 시스템
- 권한 관리
- 이벤트 기반 아키텍처

### Phase 4: 고급 기능
- 크롤링 시스템
- 검색 및 필터링
- 캐싱 최적화
- 성능 모니터링

### Phase 5: 테스트 및 최적화
- 통합 테스트
- 성능 최적화
- 보안 강화
- 문서화

## 논리적 의존성 체인

### 1단계: 기반 시스템
- 데이터베이스 설정 및 스키마
- 기본 보안 설정
- 모니터링 인프라

### 2단계: 핵심 도메인
- 팝업스토어 엔티티
- 카테고리 시스템
- 파일 업로드 시스템

### 3단계: API 및 서비스
- REST API 구현
- 서비스 레이어
- 예외 처리

### 4단계: 인증 및 권한
- JWT 인증 시스템
- 사용자 관리
- 권한 제어

### 5단계: 커뮤니티 기능
- 리뷰 시스템
- 댓글 시스템
- 이벤트 처리

### 6단계: 고급 기능
- 크롤링 시스템
- 검색 기능
- 캐싱 최적화

## 위험 요소 및 대응 방안

### 기술적 위험
- **Spring Boot 3.5.0 호환성**: 최신 버전 사용으로 안정성 확보
- **JWT 보안**: 토큰 만료 및 갱신 메커니즘 구현
- **파일 업로드 보안**: S3 버킷 정책 및 파일 검증

### 성능 위험
- **데이터베이스 성능**: 인덱스 최적화 및 쿼리 튜닝
- **캐싱 전략**: Redis를 활용한 효율적인 캐싱
- **모니터링**: Prometheus를 통한 실시간 성능 모니터링

### 확장성 위험
- **마이크로서비스 전환**: 모듈화된 구조로 확장성 확보
- **데이터베이스 분산**: 필요시 샤딩 또는 분산 DB 고려

## 부록

### 개발 환경
- Java 21
- Gradle 8.x
- Docker Compose
- PostgreSQL 15+
- Redis 7+

### 테스트 전략
- 단위 테스트 (JUnit 5)
- 통합 테스트 (Testcontainers)
- 보안 테스트 (Spring Security Test)

### 배포 전략
- Docker 컨테이너화
- CI/CD 파이프라인
- 환경별 설정 관리 